\ProvidesPackage{local-minted}[2014/04/27 Local minted options]

\ifdefined\NoMinted
\else
\usepackage{minted}

% Сюда вставлять общие опции
\newcommand{\mintedoptions}{linenos,frame=single,fontsize=\footnotesize,style=bw,fontfamily=cyrillicfontttnoftr}

% Сюда пихать новые языки
\newcommand{\makenewmintedenviromnents}[1]{%
  \newminted{kotlin}{#1}%
  \newminted{java}{#1}%
  \newmintedfile{java}{#1}%
  \newmintedfile{kotlin}{#1}%
}

% Магия! Здесь происходит непосредственное определение всех окружений
\expandafter\makenewmintedenviromnents\expandafter{\mintedoptions}

\renewcommand{\listingscaption}{Листинг}
\renewcommand{\listoflistingscaption}{Листинги}

% Нумерация листингов внутри глав
\renewcommand*{\thelisting}{\thechapter.\arabic{listing}}
\@addtoreset{listing}{section}

\fi
\endinput
